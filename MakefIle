.PHONY: install test demo clean help

# Default target
help:
	@echo "Available commands:"
	@echo "  make install    - Install queuectl and dependencies"
	@echo "  make test       - Run test suite"
	@echo "  make demo       - Run demonstration"
	@echo "  make clean      - Clean up database and cache files"
	@echo "  make help       - Show this help message"

# Install queuectl
install:
	@echo "Installing queuectl..."
	pip install -r requirements.txt
	pip install -e .
	@echo "✓ Installation complete"

# Run tests
test:
	@echo "Running test suite..."
	python tests/test_scenarios.py

# Run demo
demo:
	@echo "Running demo..."
	chmod +x demo.sh
	./demo.sh

# Clean up
clean:
	@echo "Cleaning up..."
	rm -rf ~/.queuectl/
	rm -rf build/ dist/ *.egg-info
	find . -type d -name __pycache__ -exec rm -rf {} + 2>/dev/null || true
	find . -type f -name "*.pyc" -delete
	@echo "✓ Cleanup complete"

# Quick start
quickstart: install demo
	@echo "✓ Quick start complete!